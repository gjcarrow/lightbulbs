!function t(e,n,i){function a(s,r){if(!n[s]){if(!e[s]){var d="function"==typeof require&&require;if(!r&&d)return d(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return a(n||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=t("./utilities.js"),o=function(t){return t&&t.__esModule?t:{default:t}}(a);!function(t,a,s){var r=function(t){return JSON.parse(localStorage.getItem(t))},d=function(t){return localStorage.key(t)},u=function(t,e){o.default.isThis(e,"string")||(e=JSON.stringify(e)),localStorage.setItem(t,e)},l=function(t){return null!==this.get(t)&&(localStorage.removeItem(t),!0)},c=function(){return localStorage.length},f={get:r,remove:l,length:c,key:d,store:u};"function"==typeof define&&define.amd?define([],f):"object"===(void 0===n?"undefined":i(n))?e.exports=f:t.db=f}(window,document)},{"./utilities.js":3}],2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var a=t("./utilities.js"),o=i(a),s=t("./localDb.js"),r=i(s),d=(o.default.getById("wrapper"),o.default.getById("ideaListHeader")),u=o.default.getByTag("input",d,!0),l=o.default.getById("title_input"),c=o.default.getById("message-container"),f=o.default.getById("body_input"),v=o.default.getClassed("input-error"),p=o.default.getById("ideasList"),h=(o.default.getClassed("save_button"),o.default.log,{editMode:!1,state:{ideas:[]},init:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=r.default.length(),n=void 0,i=void 0,a=void 0;if(t||this.assignEvents(),!e)return void o.default.remove(c,"hide");for(o.default.add(c,"hide"),t&&(this.state.ideas=[]),n=0;n<=e-1;n++)i=r.default.key(n),a=r.default.get(i),this.state.ideas.push(a);this.state.ideas.sort(function(t,e){return t.id<e.id?-1:t.id>e.id?1:0}),this.listIdeas()},assignEvents:function(){o.default.addEvent("click",o.default.getClassed("save_button"),this.handleNewIdeaSave.bind(this)),o.default.addEvent("input",u,this.handleSearchInput.bind(this))},handleSearchInput:function(t){var e=t.target.value.toLowerCase(),n=e.length,i=this.state.ideas,a=void 0;n&&(a=i.filter(function(t){return~t.title.toLowerCase().indexOf(e)}),this.listIdeas(a))},clearSearch:function(){u.value.length>0&&(u.textContent="",u.value="")},handleNewIdeaSave:function(t){if(this.clearSearch(),t=t||window.event,o.default.has(v,"hide")||o.default.add(v,"hide"),""===l.value||!l.value.length)return o.default.remove(v,"hide"),!1;var e=o.default.generateRandomNumber(),n={};n.title=l.value,n.quality=1,n.id=e,n.body=f.value,this.updateStorage(n),l.value="",f.value="",window.focus()},listIdeas:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p.innerHTML="",e?e.map(function(e){t.addIdeaToList(e)}):this.state.ideas.map(function(e){t.addIdeaToList(e)})},addIdeaToList:function(t){var e=this.listed_content(t);p.insertAdjacentHTML("afterbegin",e)},listed_content:function(t){var e=t.id,n=t.title,i=t.body,a=t.quality;return'\n    <article class="message" data-id="'+e+'">\n      <div class="message-header">\n        <p>'+n+'</p>\n        <a class="edit edit_button" onclick="ideaList.editIdea(event,'+e+')"><img src="images/edit.png" alt="edit" /></a>\n        <button class="delete" onclick="ideaList.deleteIdea('+e+')"></button>\n      </div>\n      <div class="message-body">\n        <p>'+i+'</p>\n        <div class="voting-block">\n          <span class=\'vote-comp upvote\' onclick="ideaList.handleUpvote('+(a||1)+", "+e+', 1)"><img src="images/voteIcons/upvote.svg" alt="upvote icon" /></span>\n          <span class=\'vote-comp downvote\' onclick="ideaList.handleUpvote('+(a||1)+", "+e+', 0)"><img src="images/voteIcons/downvote.svg" alt="downvote icon" /></span>\n          <p class="vote-comp">&nbsp&nbsp <strong>Quality:</strong>&nbsp '+(a&&3===a?"Genius":2===a?"Decent":"Swill")+"</p>\n        </div>\n      </div>\n    </article>\n    "},removeFromState:function(t){var e=this.state.ideas.findIndex(function(e){return e.id==t});e>=0&&(null!==r.default.get(t)&&r.default.remove(t),this.state.ideas.splice(e,1),this.listIdeas())},deleteIdea:function(t){this.clearSearch(),confirm("This will permenantly delete this idea. Is it really that bad?")&&this.removeFromState(t)},doneEditing:function(t){var e=void 0;t=t||window.event;var n=t.keyCode||t.which;13!=n&&27!=n||(e=t.target.dataset.ideaid,window.removeEventListener("keyup",h.doneEditing),h.handleEdit(null,e,!0))},editIdea:function(t,e){this.editMode=!0;for(var n=r.default.get(e),i=(n.title,n.body,n.quality,n.id,t.target.parentElement||document.body);!o.default.hasAtt(i,"data-id");)i=i.parentElement;i.innerHTML=this.editable_content(n),window.addEventListener("keyup",h.doneEditing,!1)},handleEdit:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=void 0;n[2];this.clearSearch(),setTimeout(function(){("edited_body_input"!==(a=document.activeElement.id)&&"edited_title_input"!==a||null===n[0])&&(t.saveEdits(n[1]),t.editMode=!1)},150)},saveStorageEvent:function(t,e,n){var i=t,a=this.state.ideas.findIndex(function(t){return t.id==i});r.default.store(i,n),this.state.ideas.splice(a,1,n),this.listIdeas()},saveEdits:function(t){if(this.editMode){var e=this.state.ideas.findIndex(function(e){return e.id==t}),n=this.state.ideas[e],i={body:o.default.getById("edited_body_input").value,quality:n.quality,title:o.default.getById("edited_title_input").value,id:n.id};r.default.store(i.id,i),this.state.ideas.splice(e,1,i),this.editMode=!1,this.listIdeas()}},handleUpvote:function(t,e,n){var i=this.state.ideas.find(function(t){return t.id===e});i.quality=n?3===t||2===t?3:2:1===t||2===t?1:2,r.default.store(e,i),this.listIdeas()},editable_content:function(t){var e=t.id;return'\n        <div class="message-header">\n          <div style="display:none;" class="field field_hidden">\n            <p class="control">\n              <input id="edited_id_input" class="input" type="number" value='+e+' hidden />\n            </p>\n          </div>\n        </div>\n        <div class="message-body">\n          <div class="field">\n            <p class="control">\n              <input id="edited_title_input" class="input" type="text" data-ideaId="'+e+'" onblur="ideaList.handleEdit(event, '+e+')" value="'+t.title+'" />\n            </p>\n          </div>\n          <div class="field">\n            <p class="control">\n              <input id="edited_body_input" data-ideaId="'+e+'" class="input" type="text" onblur="ideaList.handleEdit(event, '+e+')" value="'+t.body+'" />\n            </p>\n          </div>\n        </div>\n        '},updateStorage:function(t){var e=JSON.stringify(t),n=t.id;null===r.default.get(n)&&r.default.store(n,e),this.handleNewIdea(t)},handleNewIdea:function(t){this.state.ideas.push(t),this.listIdeas()}});window.addEventListener("storage",function(t){setTimeout(h.init(!0),1e3)}),o.default.domReady(function(){window.ideaList=h,h.init()})},{"./localDb.js":1,"./utilities.js":3}],3:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,a,o){function s(t,e){return Array.prototype.slice.call((e||a).querySelectorAll(t))}function r(t){var e=this;return new Promise(function(n,i){e.jacksGet(t).success(function(t,e){n(t)}).error(function(t,e){i(e.statusText)})})}function d(t,e){var n=e.replace(/-(\w)/g,function(t,e){return e.toUpperCase()});return a.defaultView&&a.defaultView.getComputedStyle?a.defaultView.getComputedStyle(t,null).getPropertyValue(e):t.style[n]}function u(t){return t.slice(0,t.lastIndexOf("#"))}function l(t,e){var n,i=t.length;for(n=0;n<i;n++)e(t[n],n,t)}function c(t){this.has(t,"fadeIn")?(this.remove(t,"fadeIn"),this.add(t,"fadeOut")):this.toggle(t,"fadeOut")}function f(t){this.has(t,"fadeOut")?(this.remove(t,"fadeOut"),this.add(t,"fadeIn")):this.toggle(t,"fadeIn")}function v(t){var e=/^\.(?=[A-Za-z])/,n=/^#(?=[A-Za-z])/;switch(null!==n.exec(t)?"id":null!==e.exec(t)?"class":"tagName"){case"id":return this.getById(t.slice(1));case"class":return this.getByClass(t.slice(1));case"tagName":return this.getByTag(t);default:return null}}function p(){return t.innerHeight||a.documentElement.clientHeight||a.body.clientHeight}function h(){return t.innerWidth||a.documentElement.clientWidth||a.body.clientWidth}function g(t){var t=t||!1,e={height:p(),width:h()};return t?(t=t.toLowerCase(),e[t]):e}function y(){return Math.round(Math.round(Math.random()*Date.now())/2e3)}function m(t){return Object.prototype.toString.call(t).slice(8,-1)}function b(t,e){var n=this.isWhat(t);return n=n.toLowerCase()||n,e=e.toLowerCase()||e,t!==o&&null!==t&&n===e}function w(t){return Array.isArray&&Array.isArray(t)||"Array"===m(t)?t:Array.prototype.slice.call(t)}function E(t){var e={},n=function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};n(arguments[0]);for(var i=0;i<arguments.length;i++){n(arguments[i])}return e}function S(t){var e={},n=function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&("[object Object]"===Object.prototype.toString.call(t[n])?e[n]=S(e[n],t[n]):e[n]=t[n])};n(arguments[0]);for(var i=0;i<arguments.length;i++){n(arguments[i])}return e}function I(t,e,n){var i=e||a;return n?i.getElementsByTagName(t)[0]:i.getElementsByTagName(t)}function C(t,e,n,i){i=i||!1,"undefined"!=typeof addEventListener?e.addEventListener(t,n,i):"undefined"!=typeof attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function L(t,e,n){"undefined"!=typeof removeEventListener?e.removeEventListener(t,n,!1):"undefined"!=typeof detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function _(t){return void 0!==t.target?t.target:void 0!==t.srcElement&&t.srcElement}function T(t){void 0!==t.preventDefault?t.preventDefault():t.returnValue=!1}function A(t){void 0!==t.stopPropagation()?t.stopPropagation():t.returnValue=!1}function O(t){return"number"==typeof t.charCode?t.charCode:t.keyCode}function x(t){return t.getBoundingClientRect()}function B(e,n){var i=t.getComputedStyle(e)[n];return parseInt(i,10)}function j(e){return"function"!=typeof t.getComputedStyle?e.style:t.getComputedStyle(e)}function N(t){return a.getElementById(t)}function k(t){var e=arguments.length>1&&arguments[1]!==o&&arguments[1];return e=e||a,e.getElementsByClassName(t)}function M(t){return this.getByClass(t)[0]}function q(t){return"string"==={}.toString.call(t).slice(8,-1).toLowerCase()?t.replace(/^\s+|\s+$/g,""):"Please provide a string"}function D(t){var e={};return t.forEach(function(t,n,i){e[t]=e[t]?e[t]+1:1}),e}function P(t){return t.reduce(function(t,e){return t[e]=t[e]?t[e]+1:1,t},{})}function H(t,e){t.splice(t.indexOf(e),1)}var R=function(){function t(t,e,i){var a={success:function(){},error:function(){}},o=new XMLHttpRequest;o.open(t,e,!0),"post"===t.toLowerCase()&&o.setRequestHeader("Content-type","application/json;charset=UTF-8"),o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<300?a.success.apply(a,n(o)):a.error.apply(a,n(o)))},o.send(i);var s={success:function(t){return a.success=t,s},error:function(t){return a.error=t,s}};return s}var e={},n=function(t){var e=void 0;try{e=JSON.parse(t.responseText)}catch(n){e=t.responseText}return[e,t]};return e.get=function(e){return t("GET",e)},e.put=function(e,n){return t("PUT",e,n)},e.post=function(e,n){return t("POST",e,n)},e.delete=function(e,n){return t("DELETE",e,n)},e}(),U=function(){function t(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function e(t,e){(n(t,e)?o:i)(t,e)}var n,i,o;return"classList"in a.documentElement?(n=function(t,e){return t.classList.contains(e)},i=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(n=function(e,n){return t(n).test(e.className)},i=function(t,e){n(t,e)||(t.className=t.className+" "+e)},o=function(e,n){e.className=e.className.replace(t(n)," ")}),{hasClass:n,addClass:i,removeClass:o,toggleClass:e,has:n,add:i,remove:o,toggle:e}}(),V=function(){var t;t=function(t,e,n){"string"==typeof e&&e.length>=1&&"string"==typeof n&&n.length>=1&&void 0!==t&&t.setAttribute(e,n)};var e=function(t,e){if(t.getAttribute(e))return t.getAttribute(e)};return{setit:t,hasit:function(t,e){return t.hasAttribute(e)},getit:e,rmit:function(t,e){t.hasAttribute(e)&&t.removeAttribute(e)}}}(),W=function(t){"interactive"===a.readyState||"complete"===a.readyState?t():a.addEventListener("DOMContentLoaded",t)},F=function(t){console.log(t)},G={removeByElement:H,log:F,crossMyHeart:r,getByQuery:v,addEvent:C,removeEvent:L,prevDefault:T,stopProp:A,getTarget:_,getCharCode:O,hasClass:U.hasClass,has:U.hasClass,addClass:U.addClass,add:U.addClass,removeClass:U.removeClass,remove:U.removeClass,toggle:U.toggleClass,getRects:x,getById:N,getByTag:I,getByClass:k,toArray:w,isWhat:m,isThis:b,getStyle:B,getStyles:j,trimStr:q,extend:E,forEach:l,deepExtend:S,sortArr:D,sortArrToObjOfUniqKeys:P,hide:c,show:f,getViewportSize:g,domReady:W,getClassed:M,jacksGet:R.get,jacksPost:R.post,jacksPut:R.put,jacksDelete:R.delete,setAtt:V.setit,getAtt:V.getit,hasAtt:V.hasit,rmAtt:V.rmit,$$:s,_:U,generateRandomNumber:y,stripHash:u,css:d};"function"==typeof define&&define.amd?define([],G):"object"===(void 0===n?"undefined":i(n))?e.exports=G:t._util=G}(window,document,void 0)},{}]},{},[2]);